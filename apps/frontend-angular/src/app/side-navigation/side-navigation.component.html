<nav class="side-nav" [class.collapsed]="isCollapsed">
  <ul class="list-unstyled">
    <li class="nav-item mt-auto mb-2"> <button (click)="toggleCollapse()" class="btn nav-link w-100 p-2" [pTooltip]="isCollapsed ? (isCollapsed ? 'Étendre' : 'Réduire') : ''" tooltipPosition="right">
      <i [class]="isCollapsed ? 'pi pi-arrow-right' : 'pi pi-arrow-left'" class="me-2"></i>
      <span *ngIf="!isCollapsed">{{ isCollapsed ? 'Étendre' : 'Réduire' }}</span>
    </button>
    </li>

    <li class="user-info-section mb-3" *ngIf="currentUser">
      <div class="flex align-items-center p-2" [pTooltip]="!isCollapsed ? '' : userFullName + ' (' + userRole + ')'" tooltipPosition="right">
        <p-avatar
          [image]="userProfilePictureUrl"
          [label]="!userProfilePictureUrl ? getAvatarLabel() : ''"
          size="large"
          shape="circle"
          styleClass="user-avatar">
        </p-avatar>
        <div class="user-details ms-2" *ngIf="!isCollapsed">
          <span class="font-bold d-block ">{{ userFullName }}</span>
          <small class="text-muted d-block">{{ userRole }}</small>
        </div>
      </div>
    </li>
    <li class="mb-2">
      <a routerLink="/accueil" routerLinkActive="active-link" class="btn nav-link w-100 p-2" [pTooltip]="isCollapsed ? 'Accueil' : ''" tooltipPosition="right">
        <i class="pi pi-home me-2"></i>
        <span *ngIf="!isCollapsed">Accueil</span>
      </a>
    </li>

    <li class="mb-2">
      <a routerLink="/assignment1" routerLinkActive="active-link" class="btn nav-link w-100 p-2" [pTooltip]="isCollapsed ? 'Assignments (Carousel)' : ''" tooltipPosition="right">
        <i class="pi pi-briefcase me-2"></i>
        <span *ngIf="!isCollapsed">Assignments</span>
      </a>
    </li>

    <li class="mb-2">
      <a routerLink="/assignment2" routerLinkActive="active-link" class="btn nav-link w-100 p-2" [pTooltip]="isCollapsed ? 'Mes Assignments (Table)' : ''" tooltipPosition="right">
        <i class="pi pi-folder-open me-2"></i>
        <span *ngIf="!isCollapsed">Mes Assignments</span>
      </a>
    </li>
    <li class="mb-2">
      <a routerLink="/organisation" routerLinkActive="active-link" class="btn nav-link w-100 p-2" [pTooltip]="isCollapsed ? 'Organisation' : ''" tooltipPosition="right">
        <i class="pi pi-sitemap me-2"></i>
        <span *ngIf="!isCollapsed">Organisation</span>
      </a>
    </li>
    <li class="nav-item mb-2" *ngIf="authService.isAdmin()">
      <button (click)="openAddAssignmentModal()" class="btn nav-link w-100 p-2" [pTooltip]="isCollapsed ? 'Ajouter Assignment' : ''" tooltipPosition="right">
        <i class="pi pi-file-plus me-2"></i>
        <span *ngIf="!isCollapsed">Ajouter Assignment</span>
      </button>
    </li>
    <li class="nav-item mb-2">
      <button (click)="logout()" class="btn nav-link w-100 p-2 logout-btn" [pTooltip]="isCollapsed ? 'Déconnexion' : ''" tooltipPosition="right">
        <i class="pi pi-sign-out me-2"></i>
        <span *ngIf="!isCollapsed">Déconnexion</span>
      </button>
    </li>
  </ul>
</nav>
